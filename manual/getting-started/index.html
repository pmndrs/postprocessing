<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=author content="map[email:vanruesc@outlook.de name:Raoul van Rüschen]"><meta name=generator content="Hugo 0.152.2"><title>Getting Started &#183; Post Processing Manual</title><base href=//pmndrs.github.io/postprocessing/manual/><script>"use strict";(()=>{localStorage.getItem("dark-mode")==="enabled"&&document.documentElement.classList.add("dark")})()</script><link rel=stylesheet href=/postprocessing/manual/css/dist/index.65f0f996d638e0fd51d31090c2312af5732104870a43ae77d7310801fea3c909.css integrity="sha256-ZfD5ltY44P1R0xCQwjEq9XMhBIcKQ6531zEIAf6jyQk=" crossorigin=anonymous><script defer src=/postprocessing/manual/js/dist/index.55b8038d8cb75af9e822adde2b9cac5e04837aee89fc579733b407008aa142f7.js integrity="sha256-VbgDjYy3WvnoIq3eK5ysXgSDeu6J/FeXM7QHAIqhQvc=" crossorigin=anonymous></script><script defer src=/postprocessing/manual/js/dist/libs/vendor.837b5efd71f562a99a22748ff2b7532bf080625848b68abf75964c0b5e2156b0.js integrity="sha256-g3te/XH1YqmaInSP8rdTK/CAYlhItoq/dZZMC14hVrA=" crossorigin=anonymous></script></head><body class="preload page single"><div class=frame-content><div><a class=skip-to-content href=/postprocessing/manual/getting-started/#content>Skip to content</a><div class=sidebar-button-open aria-label="Open navigation menu"></div><div class=sidebar><header class=page-header><div class=page-title><a href=//pmndrs.github.io/postprocessing/manual/>Post Processing Manual</a></div><div class=sidebar-button-close aria-label="Close navigation menu"></div></header><nav class=navigation><div class=search><pagefind-config bundle-path=//pmndrs.github.io/postprocessing/manual/pagefind/ excerpt-length=10></pagefind-config><pagefind-searchbox></pagefind-searchbox></div><ul><li class="menu main active expanded" data-id=main><h2>Start</h2><ul><li class=manual><a href=/postprocessing/manual/><span>Introduction</span></a></li><li class="getting-started active"><a href=/postprocessing/manual/getting-started/><span>Getting Started</span></a></li><li class=custom-passes><a href=/postprocessing/manual/custom-passes/><span>Custom Passes</span></a></li><li class=custom-effects><a href=/postprocessing/manual/custom-effects/><span>Custom Effects</span></a></li><li class=migration-guide><a href=/postprocessing/manual/migration-guide/><span>Migration Guide</span></a></li><li><a href=../docs/ target=_blank><span>API Reference</span></a></li></ul></li><li class="menu community expanded" data-id=community><h2>Community</h2><ul><li class=plugins-tools><a href=/postprocessing/manual/plugins-tools/><span>Plugins and Tools</span></a></li><li><a href=https://github.com/pmndrs/postprocessing/issues target=_blank><span>Issue Tracker</span></a></li><li><a href=https://discord.com/invite/poimandres target=_blank><span>Discord</span></a></li><li><a href=https://github.com/pmndrs/postprocessing/discussions target=_blank><span>Forum</span></a></li></ul></li><li class="menu demos" data-id=demos><h2>Demos</h2><ul><li class="menu anti-aliasing" data-id=anti-aliasing><h3>Anti-Aliasing</h3><div><ul><li class=fxaa><a href=/postprocessing/manual/demos/anti-aliasing/fxaa/><span>FXAA</span></a></li><li class=msaa><a href=/postprocessing/manual/demos/anti-aliasing/msaa/><span>MSAA</span></a></li><li class=smaa><a href=/postprocessing/manual/demos/anti-aliasing/smaa/><span>SMAA</span></a></li></ul></div></li><li class="menu color-grading" data-id=color-grading><h3>Color Grading</h3><div><ul><li class=lut><a href=/postprocessing/manual/demos/color-grading/lut/><span>LUT</span></a></li><li class=tone-mapping><a href=/postprocessing/manual/demos/color-grading/tone-mapping/><span>Tone Mapping</span></a></li></ul></div></li><li class="menu special-effects" data-id=special-effects><h3>Special Effects</h3><div><ul><li class=ascii><a href=/postprocessing/manual/demos/special-effects/ascii/><span>ASCII</span></a></li><li class=color-depth><a href=/postprocessing/manual/demos/special-effects/color-depth/><span>Color Depth</span></a></li><li class=halftone><a href=/postprocessing/manual/demos/special-effects/halftone/><span>Halftone</span></a></li><li class=noise><a href=/postprocessing/manual/demos/special-effects/noise/><span>Noise</span></a></li><li class=scanlines><a href=/postprocessing/manual/demos/special-effects/scanlines/><span>Scanlines</span></a></li><li class=vignette><a href=/postprocessing/manual/demos/special-effects/vignette/><span>Vignette</span></a></li></ul></div></li><li class="menu light-shadow" data-id=light-shadow><h3>Light & Shadow</h3><div><ul><li class=bloom><a href=/postprocessing/manual/demos/light-shadow/bloom/><span>Bloom</span></a></li></ul></div></li><li class="menu utility" data-id=utility><h3>Utility</h3><div><ul><li class=blur><a href=/postprocessing/manual/demos/utility/blur/><span>Blur</span></a></li><li class=depth-picking><a href=/postprocessing/manual/demos/utility/depth-picking/><span>Depth Picking</span></a></li><li class=gbuffer><a href=/postprocessing/manual/demos/utility/gbuffer/><span>Geometry Buffer</span></a></li><li class=lens-distortion><a href=/postprocessing/manual/demos/utility/lens-distortion/><span>Lens Distortion</span></a></li><li class=scissor-viewport><a href=/postprocessing/manual/demos/utility/scissor-viewport/><span>Scissor & Viewport</span></a></li><li class=texture><a href=/postprocessing/manual/demos/utility/texture/><span>Texture</span></a></li><li class=ui><a href=/postprocessing/manual/demos/utility/ui/><span>User Interface</span></a></li></ul></div></li></ul></li></ul></nav><footer class=page-footer><div class=contentinfo><ul><li class=legal><a href=/postprocessing/manual/legal/><span>Legal</span></a></li><li class=privacy><a href=/postprocessing/manual/privacy/><span>Privacy Policy</span></a></li></ul></div><div class=buttons><div class=dark-mode title="Dark mode"></div><a href=https://github.com/pmndrs/postprocessing target=_blank><div class=repository title=Repository></div></a><a href=https://github.com/sponsors/vanruesc target=_blank><div class=support title=Support></div></a></div></footer></div><main id=main class=getting-started tabindex=-1><div id=content class=content><div data-pagefind-body><h1 id=getting-started><span>Getting Started</span>&nbsp;<a href=/postprocessing/manual/getting-started/#getting-started data-pagefind-ignore>¶</a></h1><h2 id=installation><span>Installation</span>&nbsp;<a href=/postprocessing/manual/getting-started/#installation data-pagefind-ignore>¶</a></h2><p>This library requires the peer dependency <a href=https://github.com/mrdoob/three.js/>three</a>. Check the <a href=https://github.com/vanruesc/postprocessing/releases>release notes</a> for supported versions.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>npm install postprocessing
</span></span></code></pre></div><h2 id=usage><span>Usage</span>&nbsp;<a href=/postprocessing/manual/getting-started/#usage data-pagefind-ignore>¶</a></h2><p>The <code>renderer</code>, <code>scene</code> and <code>camera</code> are created as normal. Please refer to the <a href=https://threejs.org/manual/#en/creating-a-scene>three.js manual</a> for more information on how to create a scene.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>PerspectiveCamera</span><span class=p>,</span> <span class=nx>Scene</span><span class=p>,</span> <span class=nx>WebGLRenderer</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;three&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Recommended settings for postprocessing:
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>renderer</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>WebGLRenderer</span><span class=p>({</span>
</span></span><span class=line><span class=cl>	<span class=nx>powerPreference</span><span class=o>:</span> <span class=s2>&#34;high-performance&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>antialias</span>: <span class=kt>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>stencil</span>: <span class=kt>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>depth</span>: <span class=kt>false</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=nx>renderer</span><span class=p>.</span><span class=nx>domElement</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>scene</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Scene</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>camera</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PerspectiveCamera</span><span class=p>();</span>
</span></span></code></pre></div><p>Postprocessing uses <a href=../docs/classes/RenderPipeline.html>RenderPipelines</a> to render <a href=../docs/classes/Pass.html>Passes</a>. Common setups will only require one pipeline that contains a <a href=../docs/classes/ClearPass.html>ClearPass</a>, a <a href=../docs/classes/GeometryPass.html>GeometryPass</a> and one or more <a href=../docs/classes/EffectPass.html>EffectPass</a> instances. The latter is used to render fullscreen <a href=../docs/classes/Effect.html>Effects</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>ClearPass</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>EffectPass</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>GeometryPass</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>RenderPipeline</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>ToneMappingEffect</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;postprocessing&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>pipeline</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>RenderPipeline</span><span class=p>(</span><span class=nx>renderer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>pipeline</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=k>new</span> <span class=nx>ClearPass</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>	<span class=k>new</span> <span class=nx>GeometryPass</span><span class=p>(</span><span class=nx>scene</span><span class=p>,</span> <span class=nx>camera</span><span class=p>),</span>
</span></span><span class=line><span class=cl>	<span class=k>new</span> <span class=nx>EffectPass</span><span class=p>(</span><span class=k>new</span> <span class=nx>ToneMappingEffect</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>onResize</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>width</span> <span class=o>=</span> <span class=nx>container</span><span class=p>.</span><span class=nx>clientWidth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>height</span> <span class=o>=</span> <span class=nx>container</span><span class=p>.</span><span class=nx>clientHeight</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>camera</span><span class=p>.</span><span class=nx>aspect</span> <span class=o>=</span> <span class=nx>width</span> <span class=o>/</span> <span class=nx>height</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>camera</span><span class=p>.</span><span class=nx>updateProjectionMatrix</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// The resolution must be set through the pipeline.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>pipeline</span><span class=p>.</span><span class=nx>setSize</span><span class=p>(</span><span class=nx>width</span><span class=p>,</span> <span class=nx>height</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;resize&#34;</span><span class=p>,</span> <span class=nx>onResize</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>onResize</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Use pipeline.render() instead of renderer.render()
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>renderer</span><span class=p>.</span><span class=nx>setAnimationLoop</span><span class=p>(</span><span class=nx>timestamp</span> <span class=o>=&gt;</span> <span class=nx>pipeline</span><span class=p>.</span><span class=nx>render</span><span class=p>(</span><span class=nx>timestamp</span><span class=p>));</span>
</span></span></code></pre></div><blockquote class="alert alert-tip"><div class=alert-heading><div class=alert-icon></div><span>Tip</span></div><p>It&rsquo;s recommended to apply anti-aliasing effects with an additional, separate <code>EffectPass</code>. See the anti-aliasing demos for details.</p></blockquote><h2 id=precompilation><span>Precompilation</span>&nbsp;<a href=/postprocessing/manual/getting-started/#precompilation data-pagefind-ignore>¶</a></h2><p>Render pipelines can be precompiled to avoid frame stuttering during the initial render call. The <code>compile</code> method takes care of compiling fullscreen shaders as well as all shaders used by 3D objects that are rendered by a <code>GeometryPass</code>. It&rsquo;s also possible to recompile individual passes as needed if, for example, the <code>scene</code> of a <code>GeometryPass</code> is changed or the <code>effects</code> of an <code>EffectPass</code> are replaced.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=nx>pipeline</span><span class=p>.</span><span class=nx>compile</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=nx>then</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=nx>renderer</span><span class=p>.</span><span class=nx>setAnimationLoop</span><span class=p>((</span><span class=nx>timestamp</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>pipeline</span><span class=p>.</span><span class=nx>render</span><span class=p>(</span><span class=nx>timestamp</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>	<span class=p>.</span><span class=k>catch</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>e</span><span class=p>));</span>
</span></span></code></pre></div><h2 id=color-space-considerations><span>Color Space Considerations</span>&nbsp;<a href=/postprocessing/manual/getting-started/#color-space-considerations data-pagefind-ignore>¶</a></h2><p>It&rsquo;s recommended to follow a <a href=https://docs.unity3d.com/Manual/LinearRendering-LinearOrGammaWorkflow.html>linear workflow</a> for color management and postprocessing supports this automatically. In most cases, <code>WebGLRenderer.outputColorSpace</code> can be left at default and postprocessing will follow suit. Built-in passes automatically convert colors when they render to screen and internal render operations are always performed in the appropriate color space.</p><p>Postprocessing uses <code>HalfFloatType</code> frame buffers by default to store intermediate results with minimal information loss. Linear colors normally require at least 12 bits per color channel to prevent <a href=https://blog.demofox.org/2018/03/10/dont-convert-srgb-u8-to-linear-u8/>color degradation and banding</a>. The default buffer type supports HDR-like workflows with correct tone mapping. When alpha is disabled, postprocessing will use the compact <code>R11F_G11F_B10F</code> framebuffer format to save space. For more details see <a href=/postprocessing/manual/demos/utility/gbuffer/#alpha>Geometry Buffer</a>.</p><p>If hardware support and resource efficiency is a concern, postprocessing can be configured to use <code>UnsignedByteType</code> sRGB frame buffers as shown below. With low precision sRGB buffers, colors will be clamped to [0.0, 1.0] and information loss will shift to the darker spectrum which still leads to noticable banding in dark scenes. Linear, high precision <code>HalfFloatType</code> buffers don&rsquo;t have these issues and are generally the preferred option.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>UnsignedByteType</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;three&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>geoPass</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>GeometryPass</span><span class=p>(</span><span class=nx>scene</span><span class=p>,</span> <span class=nx>camera</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>frameBufferType</span>: <span class=kt>UnsignedByteType</span> <span class=c1>// enables low precision buffers
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>});</span>
</span></span></code></pre></div><p>See <a href=https://threejs.org/docs/#manual/en/introduction/Color-management>three&rsquo;s color management manual</a> for more information on the topic.</p></div></div></main></div></div><script>"use strict";(()=>{function e(){let t=document.querySelector(".navigation"),n=localStorage.getItem("expanded-menus"),e=n!==null?JSON.parse(n):null;if(!(t===null||e===null||!Array.isArray(e))){for(let e of t.querySelectorAll(".menu"))e.classList.remove("expanded");if(e.length!==0)try{for(let n of t.querySelectorAll(e.map(e=>`.menu.${e}`).join(",")))n.classList.add("expanded")}catch{localStorage.removeItem("expanded-menus"),window.location.reload()}}}function t(){let e=document.querySelector(".navigation"),t=document.querySelector("main");e!==null&&t!==null&&(e.scrollTop=Number(sessionStorage.getItem("nav-scroll")),t.scrollTop=Number(sessionStorage.getItem("main-scroll")))}e(),t()})()</script></body></html>